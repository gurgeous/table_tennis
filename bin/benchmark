#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.join(__dir__, "../lib"))

require "benchmark"
require "table_tennis"

#
# internal benchmark scratch script, ignore
#

N = 1_000_000
PLAIN = "foobar"
GREEN = "\e[38;2;0;255;0mfoobar\e[0m"

Benchmark.bm do |benchmark|
  benchmark.report("plain") do
    N.times { TableTennis::Util::Strings.width(PLAIN) }
  end

  # GREEN is 10x slower vs PLAIN, but that's ok
  benchmark.report("painted") do
    N.times { TableTennis::Util::Strings.width(GREEN) }
  end
end
